<!DOCTYPE html>
<html>
<head>
    <title>Teste JSONBin.io</title>
</head>
<body>
    <h1>Teste de Conexão JSONBin.io</h1>
    <button onclick="testarConexao()">Testar Conexão</button>
    <div id="resultado"></div>

    <script>
        async function testarConexao() {
            const BIN_ID = 'SEU_BIN_ID_AQUI';
            const MASTER_KEY = 'SUA_MASTER_KEY_AQUI';
            
            try {
                // Testar leitura
                const resposta = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}/latest`, {
                    headers: {
                        'X-Master-Key': MASTER_KEY
                    }
                });
                
                if (!resposta.ok) {
                    throw new Error(`Erro ${resposta.status}: ${resposta.statusText}`);
                }
                
                const dados = await resposta.json();
                document.getElementById('resultado').innerHTML = `
                    <p style="color: green;">✅ Conexão bem-sucedida!</p>
                    <p>Bin ID: ${dados.metadata.id}</p>
                    <p>Nome: ${dados.metadata.name || 'Sem nome'}</p>
                    <p>Criado em: ${new Date(dados.metadata.createdAt).toLocaleString()}</p>
                    <p>Total de equipamentos: ${dados.record.equipamentos?.length || 0}</p>
                `;
                
            } catch (erro) {
                document.getElementById('resultado').innerHTML = `
                    <p style="color: red;">❌ Erro na conexão:</p>
                    <p>${erro.message}</p>
                    <p>Verifique:
                        <ul>
                            <li>Se o Bin ID está correto</li>
                            <li>Se a Master Key está correta</li>
                            <li>Se o bin foi criado</li>
                            <li>Sua conexão com a internet</li>
                        </ul>
                    </p>
                `;
            }
        }
    </script>
</body>
</html>
